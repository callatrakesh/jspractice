<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Applicatioon</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-b from-cyan-500 to-blue-500 p-5 flex flex-col items-center">
    <div class="container mx-auto">
        <div class="flex items-center justify-center text-white mb-10">
            <span class="mr-5"><svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 122.89 68.17" style="width:70px;fill:#fff"><path d="M61.84 33c-.54.26-1.07.55-1.61.87a38.31 38.31 0 0 0-4.82 3.42l-3.46-4a27.65 27.65 0 0 1 3.87-3 27.13 27.13 0 0 1 3.41-1.9c.47-.24 1-.46 1.44-.67A21.15 21.15 0 0 0 53 19.88a3.79 3.79 0 0 1-.34-.2c-.43-.25-.87-.47-1.31-.69a22.78 22.78 0 0 0-12-2.08 21.66 21.66 0 0 0-11.18 4.37 21 21 0 0 0-7.69 13l-.34 1.8-1.79.32a24.63 24.63 0 0 0-4.7 1.26 16.06 16.06 0 0 0-3.56 1.91 11.46 11.46 0 0 0-2.15 2 12.15 12.15 0 0 0-2.74 7.95A14.41 14.41 0 0 0 8 57.77a13.45 13.45 0 0 0 2.27 2.44 11.24 11.24 0 0 0 3 1.77 15 15 0 0 0 3.64 1h52a26.31 26.31 0 0 0 6.66-2.5 14.56 14.56 0 0 0 4.58-3.87 15.89 15.89 0 0 0 2.71-9.22 18.33 18.33 0 0 0-2.57-9.93 16.25 16.25 0 0 0-1.61-2.07 12.5 12.5 0 0 0-9.28-4A18.34 18.34 0 0 0 61.84 33Zm-8.93-19.08a25.4 25.4 0 0 1 12.9-11.8 28 28 0 0 1 20.85-.22 26.43 26.43 0 0 1 14.1 12.89 20.85 20.85 0 0 1 3.43-.26 17.62 17.62 0 0 1 13.11 5.69 20.92 20.92 0 0 1 2.16 2.8 23.61 23.61 0 0 1 3.42 12.83 21.11 21.11 0 0 1-3.76 12.33 19.6 19.6 0 0 1-6.21 5.32 31.65 31.65 0 0 1-8.37 3.1l-.58.08h-17.9a16 16 0 0 1-1.81 3 19.56 19.56 0 0 1-6.2 5.32 31.78 31.78 0 0 1-8.37 3.1l-.59.07H16.42a20.07 20.07 0 0 1-5.22-1.34 16.51 16.51 0 0 1-4.34-2.6 18.62 18.62 0 0 1-3.15-3.38A19.72 19.72 0 0 1 0 49.53a17.34 17.34 0 0 1 4-11.35 16.8 16.8 0 0 1 3.1-2.89 21 21 0 0 1 4.75-2.54 29.92 29.92 0 0 1 3.95-1.21A25.86 25.86 0 0 1 25 17.12a26.8 26.8 0 0 1 13.91-5.44 27.9 27.9 0 0 1 14 2.24ZM87.66 51.4h16a25.8 25.8 0 0 0 6.66-2.5 14.21 14.21 0 0 0 4.59-3.9 15.87 15.87 0 0 0 2.71-9.22 18.27 18.27 0 0 0-2.57-9.93 14.63 14.63 0 0 0-1.61-2.07 12.43 12.43 0 0 0-9.27-4 18.34 18.34 0 0 0-7.47 1.65c-.53.27-1.07.56-1.6.87a37.68 37.68 0 0 0-4.83 3.42l-3.46-4a28.25 28.25 0 0 1 3.87-3 27.85 27.85 0 0 1 3.41-1.9c.48-.23 1-.46 1.44-.67a21.12 21.12 0 0 0-10.78-9.34 22.71 22.71 0 0 0-8.52-1.55A22.48 22.48 0 0 0 67.83 7a20.25 20.25 0 0 0-10.33 9.52 26.45 26.45 0 0 1 8.39 9.82 20.94 20.94 0 0 1 3.43-.26 17.57 17.57 0 0 1 13.11 5.69 20.67 20.67 0 0 1 2.17 2.79A23.64 23.64 0 0 1 88 47.4a26.67 26.67 0 0 1-.36 4Z"></path></svg></span>
            <h1 class="text-3xl font-bold leading-normal">Weather Application</h1>
        </div>
        <form id="weatherForm">
            <div class="flex iteam-center bg-white rounded-xl p-2 mb-5">
                <span class="mr-3 ml-2 flex iteam-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 122.88 119.8" style="width:30px;fill:#ccc"><path d="M49.988 0h.016v.007C63.803.011 76.298 5.608 85.34 14.652c9.027 9.031 14.619 21.515 14.628 35.303h.007V50.028h-.007a49.932 49.932 0 0 1-3.471 18.301v.007a50.011 50.011 0 0 1-5.547 10.307l29.082 26.139.018.016.157.146.011.011a8.602 8.602 0 0 1 2.649 5.78 8.611 8.611 0 0 1-1.979 5.971l-.011.016-.175.203-.035.035-.146.16-.016.021a8.594 8.594 0 0 1-5.78 2.646 8.602 8.602 0 0 1-5.971-1.978l-.015-.011-.204-.175-.029-.024-29.745-26.734c-.88.62-1.778 1.209-2.687 1.765a50.063 50.063 0 0 1-3.813 2.115c-6.699 3.342-14.269 5.222-22.272 5.222v.007h-.016v-.007c-13.799-.004-26.296-5.601-35.338-14.645C5.605 76.291.016 63.805.007 50.021H0v-.049h.007c.004-13.799 5.601-26.296 14.645-35.338C23.683 5.608 36.167.016 49.955.007V0h.033zm.016 11.21v.007h-.049v-.007c-10.686.007-20.372 4.35-27.384 11.359-7.011 7.009-11.358 16.705-11.361 27.404h.007v.049h-.007c.007 10.686 4.347 20.367 11.359 27.381 7.009 7.012 16.705 11.359 27.403 11.361v-.007h.049v.007c10.686-.007 20.368-4.348 27.382-11.359 7.011-7.009 11.358-16.702 11.36-27.4h-.006v-.049h.006c-.006-10.686-4.35-20.372-11.358-27.384-7.009-7.012-16.702-11.359-27.401-11.362z"></path></svg>
                </span>
                <input type="text" class="w-full text-xl border-0 outline-none leading-5" id="cityInput" placeholder="Enter your city name"/>
                <button type="submit" id="citySubmit" class="text-xl p-2 px-5 bg-indigo-500 text-white font-medium rounded-lg uppercase">Search</button>
            </div>    
        </form>
        <div class="p-5 text-center text-white text-2xl" id="weatherOutput"> </div> 
    </div>
    <script>
        const weatherForm = document.getElementById('weatherForm');
        const cityinput = document.getElementById('cityInput');
        const citysubmit = document.getElementById('citySubmit');
        const outputdiv = document.getElementById('weatherOutput');

        weatherForm.addEventListener("submit", async (event) => {
            event.preventDefault();
            const city = cityinput.value.trim();
           if(!city){
            outputdiv.innerHTML = "Please enter a valid city name!";
            return;
           }
           const url = `https://open-weather13.p.rapidapi.com/city/${city}/EN`;
           const options = {
                method: 'GET',
                headers: {
                    'x-rapidapi-key': '26b60b43f0msh6f59dbf5f6edca9p17019ajsn7b40f31f7819',
                    'x-rapidapi-host': 'open-weather13.p.rapidapi.com'
                }
            };
            try{
                const response = await fetch(url, options);

                if(!response.ok){
                    throw new Error("City not found!");
                }

                const result = await response.json();
                console.log(result);
                outputdiv.innerHTML = `
                    <h3>Weather in ${city}</h3>
                    <p>Temprature is ${result.main.temp}Â°C</p>
                    <p>Weather: ${result.weather[0].description}</p>
                    <p>Humidity: ${result.main.humidity}%</p>
                `;

            } catch(error){
                outputdiv.innerHTML = `Error: ${error.message}`;
            }
        })
    </script>
</body>
</html>